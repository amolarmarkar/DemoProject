@using DepartmentDemo.Models
@model IEnumerable<DepartmentDemo.Models.Department>
@*<%@ Page Inherits=”System.Web.Mvc.ViewPage<IEnumerable<DepartmentDemo.Models.Employee>>” %>*@

@model IEnumerable<DepartmentDemo.Models.Employee>


    @{
    ViewBag.Title = "Index";
    }

    <html ng-app="myApp">
    <head>

        <script src="../../Scripts/angular.js"></script>
        <script src="../../Scripts/angular-ui-router.js"></script>
        <script src="../../Scripts/app.js"></script>
        @*<script src="Scripts/angular-ui-router.js"></script>
            <script src="Scripts/angular.min.js"></script>
            <script src="Scripts/app.js"></script>*@

        @*<script> src = "http://angular-ui.github.io/ui-router/release/angular-ui-router.js"</script>
            <script> src = "https://code.angularjs.org/1.2.16/angular.min.js"</script>*@


    </head>`

    <body>
        <h2>Department List</h2>


        <p>
            @Html.ActionLink("Create New Department", "Create")
        </p>
        <div>

            <table>

                <tr>
                    <th>
                        @* @Html.DisplayNameFor(model => model.Dept_Name)*@
                        @Html.DisplayName("Department Name/Details")
                    </th>

                    <th>"Department Actions"</th>

                    <th>
                        @Html.DisplayName("Employee Name/Details")
                    </th>

                    <th>"Employee Actions"</th>
                </tr>


                @foreach (var item in Model)
            {
                    <tr>
                        <td>

                            @*Html.ActionLink(item.Dept_Name, "Details", new { id = item.Dept_Id })*@

                            @*<ul>
                                    <li ng-repeat="department in Departments">
                                        <a data-ui-sref="departments.detail({ id: item.Dept_Id })">{{ department.name }}</a>
                                    </li>
                                </ul>*@

                            @*<ul>
                                    @Html.DisplayFor(modelItem => item.Dept_Name)
                                    @*<li ng-repeat="group in groups">
                                        @*<a  data-ui-sref="group.departments({DeptName: {{item.Dept_Name}}})">{{item.Dept_Name}}</a>
                                        @*<a  data-ui-sref="a">modelItem => item.Dept_Name</a>

                                    @*</li>
                                @*</ul>*@
                            @*$state.go(to ')*@
                            @*<ul>
                                    <li ui-sref-active="active" class="item active">
                                        <a data-ui-sref="myApp.state1({user: 'bilbobaggins'})" href="/Partials/State1.html">@item.Dept_Name</a>
                                    </li>
                                     ...
                                </ul>*@

                            @*<a data-ui-sref="DepartmentDetails({DeptId:{{deptItem.Dept_Id}},DeptName:'{{deptItem.Dept_Name}}'})">{{deptItem.Dept_Name}}</a>*@

                            @*<a href="/Partials/State1.html">@item.Dept_Name</a>*@
                            @*var deptid = @item.Dept_Id*@
                            @*<div data-ui-sref="myApp.state1({DeptId:{{@item.Dept_Id}},DeptName:'{{@item.Dept_Name}}'})"><a href="">@item.Dept_Name</a></div>*@

                            @*<div data-ui-sref="myApp.state1({DeptId: '@item.Dept_Id',DeptName:'@item.Dept_Name'})"><a href="">@item.Dept_Name</a></div>*@

                            <a data-ui-sref="state1({DeptId: '@item.Dept_Id',DeptName:'@item.Dept_Name'})">@item.Dept_Name</a>
                        </td>
                        <td>
                            @Html.ActionLink("Edit", "Edit", new { id = item.Dept_Id }) |
                            @* @Html.ActionLink("Details", "Details", new { id=item.Dept_Id }) |*@
                            @Html.ActionLink("Delete", "Delete", new { id = item.Dept_Id })
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.Emp_Name)
                        </td>

                        <td>
                            @Html.ActionLink("Edit", "Edit", new { id = item.Emp_Id }) |
                            @*@Html.ActionLink("Details", "Details", new { id = item.Emp_Id }) |*@
                            @Html.ActionLink("Delete", "Delete", new { id = item.Emp_Id })
                        </td>
                    </tr>
            }

                <tr>
                    <td>
                        <div data-ui-view=""></div>
                        <a data-ui-sref="state2">Employee List</a>
                        @*<a data-ui-sref="state1({DeptId: '@item.Dept_Id',DeptName:'@item.Dept_Name'})">@item.Dept_Name</a>*@
                        @*<a data-ui-sref="state2">State 2</a>*@
                    </td>
                </tr>

            </table>

        </div>
    </body>
</html>
